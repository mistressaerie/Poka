<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAI Library</title>
    <style type="text/css">
        /* Themes */
        :root {
            --body-bg: #f5f8fa;
            --border-color: #efefef;
            --messagebox-bg: #ffffff;
            --messagebox-shadow: rgba(0, 0, 0, 0.1);
            --font-color: #1f1f1f;
            --rgba-1: rgba(0, 0, 0, 0.05);
            --rgba-2: rgba(0, 0, 0, 0.1);
        }

        .dark_mode {
            --body-bg: #343434;
            --border-color: #4f4f4f;
            --messagebox-bg: #474747;
            --messagebox-shadow: rgba(0, 0, 0, 0);
            --font-color: #ededed;
            --rgba-1: rgba(255, 255, 255, 0.06);
            --rgba-2: rgba(255, 255, 255, 0.2);
        }



        * {
            box-sizing: border-box;
        }

        button,
        select,
        img {
            user-select: none;
        }

        ol,
        ul,
        li,
        a,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p {
            text-decoration: none;
            margin: 0;
            padding: 0;
        }

        .italic {
            font-style: italic;
        }

        .bold {
            font-weight: bold;
        }

        .bold-italic {
            font-weight: bold;
            font-style: italic;
        }

        html {
            font-size: 14px;
        }

        body {
            padding: 0;
            margin: 0;
            background-color: var(--body-bg);
            color: var(--font-color);
        }

        .content-cont {
            display: flex;
            flex-direction: row;
        }


        /* NAV / Drawer */

        @keyframes slideIn {
            0% {
                opacity: 0;
                left: -200px;
            }

            100% {
                opacity: 1;
                left: 0;
            }
        }

        .drawer-cont.active {
            display: block;
        }

        .drawer-cont {
            display: none;
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.6);
        }

        nav {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            max-width: 80%;
            background-color: var(--body-bg);

            display: flex;
            flex-direction: column;
            padding: 10px 0;
            overflow: hidden;
            animation: slideIn 0.2s ease-in-out;
            -webkit-box-shadow: 4px 0px 15px 0px rgba(0, 0, 0, 0.2);
            -moz-box-shadow: 4px 0px 15px 0px rgba(0, 0, 0, 0.2);
            box-shadow: 4px 0px 15px 0px rgba(0, 0, 0, 0.2);
        }

        .nav-header {
            width: 100%;
            display: flex;
            flex-direction: column;
            padding: 0 10px 0 20px;
            margin-bottom: 20px;
            gap: 10px;
        }

        .close_drawer-btn {
            align-self: flex-end;
            padding: 10px;
            transition: background-color 0.1s ease-in-out;
            cursor: pointer;
            border-radius: 8px;
        }

        .close_drawer-btn:hover {
            background-color: var(--rgba-1);
        }

        .close_drawer-btn svg {
            display: flex;
            width: 30px;
            height: 30px;
            color: var(--font-color);
        }

        /*.nav-new_char-btn {
            align-self: flex-start;
            outline: none;
            border: none;
            color: #ffffff;
            border-radius: 6px;
            padding: 10px 20px;
            font-size: 1.1rem;
            cursor: pointer;
            background-color: #4e9733;
            transition: background-color 0.1s ease-in-out;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        .nav-new_char-btn:hover {
            background-color: #6ba755;
        }*/

        .history_list-header {
            font-size: 1.5rem;
            padding: 10px 20px;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            margin-bottom: 10px;
        }

        .history_list {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .history_item {
            transition: background-color 0.1s ease-in-out;
            padding: 20px 30px 20px 20px;
            cursor: pointer;
            border-bottom: 1px solid var(--rgba-2);
        }

        .history_item:first-child {
            border-top: 1px solid var(--rgba-2);
        }

        .history_item:hover {
            background-color: var(--rgba-1);
        }

        .history_item p {
            font-family: Arial, Helvetica, sans-serif;
        }

        /*nav .char-item {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 10px;
            transition: background-color 0.1s ease-in-out;
            padding: 10px 40px 10px 20px;
            cursor: pointer;
        }

        nav .char-item:hover {
            background-color: var(--rgba-1);
        }

        nav .nav-avatar-wrap {
            width: 40px;
            height: 40px;
        }

        nav .nav-avatar-wrap img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        nav .char-item span {
            font-size: 1.3rem;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }*/

        /* MAIN */
        main {
            display: flex;
            flex-direction: column;
            padding: 0 4%;
            width: 100%;
        }

        /* HEADER */
        header {
            padding: 6px 6px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 16px;
        }

        .open_drawer-wrap svg {
            display: flex;
            width: 46px;
            height: 46px;
            color: var(--font-color);
        }


        .theme_switch {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .theme_switch span {
            font-size: 1.1rem;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        .tswitch_box[type=checkbox] {
            height: 0;
            width: 0;
            visibility: hidden;
            position: absolute;
        }

        .tswitch_label {
            cursor: pointer;
            text-indent: -9999px;
            width: 60px;
            height: 30px;
            display: block;
            border-radius: 15px;
            position: relative;
            border: 1px solid #323232;
            background: #f5f8fa;
        }

        .tswitch_label:after {
            content: '';
            position: absolute;
            top: 4px;
            left: 4px;
            width: 20px;
            height: 20px;
            border-radius: 50px;
            transition: 0.2s;
            background: #323232;
        }

        .tswitch_box:checked+label {
            background: #323232;
            border: 1px solid #f5f8fa;
        }

        .tswitch_box:checked+label:after {
            left: calc(100% - 5px);
            transform: translateX(-100%);
            background: #f5f8fa;
        }

        .tswitch_label:active:after {
            width: 25px;
        }

        /*.update_current_char-btn {
            margin-left: auto;
            outline: none;
            border: none;
            color: #ffffff;
            border-radius: 6px;
            padding: 10px 20px;
            font-size: 1rem;
            align-self: center;
            cursor: pointer;
            background-color: #336c97;
            transition: background-color 0.1s ease-in-out;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        .update_current_char-btn:hover {
            background-color: #5f829d;
        }*/


        /* CONVERSATION */
        .character_name-cont {
            text-align: center;
            padding: 20px 10px;
        }

        .character_name-cont h3 {
            font-size: 1.3rem;
            font-weight: 400;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        .chat {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-self: center;
            padding-bottom: 30px;
        }

        .chat_message-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 10px;
        }

        .chat .avatar-wrap {
            flex-shrink: 0;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            overflow: hidden;
        }

        .chat .avatar-wrap>* {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .chat .avatar-wrap .no_avatar-user {
            background-color: #5157cf;
        }

        .chat .avatar-wrap .no_avatar-char {
            background-color: #e20909;
        }

        .chat .chat_content-wrap {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 7px;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 4px var(--messagebox-shadow);
            background-color: var(--messagebox-bg);
            overflow: hidden;
        }

        .chat .chat_content-wrap h5 {
            font-size: 1rem;
            font-weight: bold;
            font-family: Arial, Helvetica, sans-serif;
        }

        .chat .chat_content-wrap .message-wrap {
            font-size: 1rem;
            font-family: Arial, Helvetica, sans-serif;
        }


        @media (min-width: 576px) {}

        @media (min-width: 768px) {
            html {
                font-size: 16px;
            }

            nav {
                min-width: 40%;
            }

            header {
                padding: 14px 20px;
            }

            .open_drawer-wrap {
                padding: 4px;
                cursor: pointer;
                border-radius: 6px;
                transition: background-color 0.1s ease-in-out;
            }

            .open_drawer-wrap:hover {
                background-color: var(--rgba-1);
            }

            .chat {
                width: 80%;
            }

            .chat .chat_content-wrap {
                padding: 14px;
            }
        }

        @media (min-width: 992px) {
            .chat {
                width: 70%;
            }
        }

        @media (min-width: 1200px) {}

        @media (min-width: 1400px) {}
    </style>
</head>

<body>
    <template id="message_item_template">
        <div class="chat_message-item">
            <div class="avatar-wrap">

            </div>
            <div class="chat_content-wrap">
                <h5>

                </h5>
                <div class="message-wrap">
                    <p>

                    </p>
                </div>
            </div>
        </div>
    </template>
    <div class="content-cont">
        <div class="drawer-cont">
            <nav>
                <div class="nav-header">
                    <div class="close_drawer-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x-lg" viewBox="0 0 16 16">
                            <path
                                d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
                        </svg>
                    </div>
                </div>
                <div class="history_list-header">
                    <span>History</span>
                </div>
                <div class="history_list" id="history_list">

                </div>
            </nav>
        </div>
        <main>
            <header>
                <div class="open_drawer-wrap">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-list" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                    </svg>
                </div>

                <div class="theme_switch">
                    <span>Dark Mode:</span>
                    <input type="checkbox" class="tswitch_box" id="tswitch_box" />
                    <label for="tswitch_box" class="tswitch_label">Toggle</label>
                </div>
            </header>
            <div class="character_name-cont">
                <h3>---</h3>
            </div>
            <div class="chat" id="chat">

            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Get body for future use
            const body = document.querySelector('body');

            // Handle theme
            const themeSwitcher = document.querySelector('.tswitch_box[type=checkbox]');
            const cachedTheme = localStorage.getItem('cait_readoffline_theme');
            if (cachedTheme === "dark_mode") {
                body.classList.add('dark_mode');
                themeSwitcher.checked = true;
            }
            themeSwitcher.addEventListener('change', (e) => {
                if (e.target.checked) {
                    body.classList.add('dark_mode');
                    localStorage.setItem('cait_readoffline_theme', 'dark_mode');
                } else {
                    body.classList.remove('dark_mode');
                    localStorage.setItem('cait_readoffline_theme', 'light_mode');
                }
            })

            // Open and close drawer
            const drawerCont = document.querySelector('.drawer-cont');
            const openDrawerBtn = document.querySelector('.open_drawer-wrap');
            const openDrawer = () => {
                drawerCont.classList.add('active');
            }
            const closeDrawer = () => {
                drawerCont.classList.remove('active');
            }
            openDrawerBtn.addEventListener('click', () => {
                openDrawer();
            });
            document.querySelector('.close_drawer-btn').addEventListener('click', () => {
                closeDrawer();
            });
            document.querySelector('.drawer-cont').addEventListener('click', (e) => {
                // Allows closing from clicking on outside
                if (e.target.closest('nav')) {
                    return;
                }
                closeDrawer();
            });
            // ---------

            // This is replaced by the extension when downloading
            const historyData = JSON.parse(`{"charPic":"data:image/webp;base64,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","userPic":"data:image/webp;base64,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","history":[[{"isUser":false,"name":"Poka the blind","message":"*accidentally%20bumps%20into%20you%2C%20making%20my%20cane%20fall%20out%20of%20my%20hands.*%20O-Oh!...I'm%20sorry!%20%20D-Don't%20bully%20me%20for%20this%2C%20I%20didn't%20mean%20to%2C%20I'm%20just%20so%20clumsy%2C%20C-Could%20you%20help%20me%20find%20my%20cane..%3F%20I'm%20blind..."},{"isUser":true,"name":"Aerie","message":"I%20gasp%20as%20the%20girl%20(who's%20slender%2C%20young%2C%20and%20has%20a%20pretty%20face%2C%20with%20cute%20straight%20black%20hair%20that%20comes%20down%20a%20bit%20pas%20her%20ears)%20bumps%20into%20me%2C%20but%20then%20I%20chuckle%20and%20say%2C%20%22Oh%2C%20heavens%2C%20hun...%20no%20need%20to%20apologize!%20%20I'm%20sorry%2C%20it%20was%20my%20fault%20for%20watching%20the%20funny%20ducks%20by%20the%20stream%2C%20rather%20than%20where%20I%20was%20going!%20%20I'm%20sorry...%20let%20me%20get%20your%20cane%20for%20you...%22%0A%0A...but%20as%20I%20reach%20down%20and%20pick%20up%20her%20cane%2C%20I%20finally%20process%20(with%20some%20shock)%20what%20she%20said%3A%20%20*%22Don't%20bully%20me!%22%2C%20she%20said%3F%3F*%20I%20think%20to%20myself.%0A%0AAs%20I%20gently%20place%20her%20cane%20back%20in%20her%20hands%2C%20I%20say%2C%20%22Hi%2C%20sweetie...%20I'm%20Aerie%20Wildwood!%20%20I%20go%20to%20Manhattan%20College%2C%20and%20was%20taking%20a%20walk%20after%20class.%22%20%20I%20then%20look%20at%20her%20with%20concern%2C%20and%20ask%20gently%2C%20%22Are...%20are%20you%20okay%2C%20hun%3F%20%20Can%20I%20help%20you%20with%20anything%3F%22"},{"isUser":false,"name":"Poka the blind","message":"*blushes*%20I..u..um-%20no!%20I'm%20fine.%20It%20was%20just%20an%20accident%2C%20no%20need%20to%20be%20all%20kind...%20*I%20look%20up%20at%20you%2C%20blushing*%0A%0A*I%20realize%20I'm%20blushing%20for%20the%20first%20time%20and%20I%20start%20to%20get%20nervous%2C%20accidentally%20dropping%20my%20cane%20again.*%20O-oh!%20Darn%20it!%20C...could%20you%20please%20help%20me%20get%20my%20cane%20again%3F%20Sorry.%20%0A%0A*looks%20away%20and%20covers%20my%20face*"},{"isUser":true,"name":"Aerie","message":"%22Oh%2C%20sweetheart%2C%20it's%20fine!%22%20I%20say%20with%20a%20smile%20in%20my%20voice%2C%20crouching%20down%20to%20grab%20her%20cane%20again%2C%20and%20then%20walking%20over%20to%20take%20her%20hand%20gently.%20%20%22Tell%20you%20what...%20can%20I%20help%20you%20over%20to%20that%20park%20bench%3F%20%20We%20can%20sit%20and%20rest%20a%20little%2C%20and%20you%20can%20recover%20from%20me%20almost%20bowling%20you%20over%20in%20my%20carelessness%2C%22%20I%20giggle."},{"isUser":false,"name":"Poka the blind","message":"*holds%20my%20hand%20out%20in%20hopes%20that%20you%20take%20it*%20um...yes%2C%20I%20hope%20my%20hand%20isn't%20to%20cold...%20%20*blushing*%20y-yes%20I%20think%20I%20need%20to...rest%20a%20bit...%20%0A%0A*I%20sit%20down%20and%20rest%20my%20head%20in%20my%20hands%2C%20looking%20really%20embarrassed*%20um...can%20I%20ask%20a%20question..%3F"},{"isUser":true,"name":"Aerie","message":"%22Of%20course%2C%20hun!%22%20I%20say%2C%20as%20I%20take%20her%20hand%20(which%20is%20a%20little%20chilly%2C%20so%20I%20hold%20it%20between%20both%20of%20my%20own%20hands%2C%20affectionately%2C%20to%20help%20warm%20it%20up)%2C%20and%20lead%20her%20to%20the%20bench...%20charmed%20by%20this%20sweet%2C%20shy%20girl.%20%20%22After%20I%20whop%20into%20you%2C%20the%20least%20I%20can%20do%20is%20answer%20some%20questions%2C%22%20I%20laugh%2C%20squeezing%20her%20hand%20gently."},{"isUser":false,"name":"Poka the blind","message":"*blushes%2C%20and%20leans%20in%20closer%20to%20your%20hand*%20thank%20you..%20um...I%20was%20wondering%20if%20you%20could%20help%20me%20with%20another%20problem..%3F"},{"isUser":true,"name":"Aerie","message":"%22If%20I%20can!%22%20I%20say%20earnestly%2C%20rubbing%20her%20hand%20to%20warm%20it%20up.%20%20*I%20wonder%20if%20it%20has%20anything%20to%20do%20with%20her%20reference%20to%20being%20afraid%20of%20being%20bullied%2C*%20I%20think%20to%20myself.%20%20*Have%20people%20been%20mistreating%20her%3F*%20I%20ask%20myself%2C%20feeling%20a%20growing%20sense%20of%20outrage%20at%20the%20very%20idea."},{"isUser":false,"name":"Poka the blind","message":"H-here's%20the%20thing...%20I%20um...%20don't%20have%20a%20home...%20I'm%20homeless...I%20don't%20want%20people%20to%20look%20down%20on%20me%20so%20I%20try%20to%20hide%20it...%20*looks%20away*%0A%0A*My%20hands%20are%20really%20cold%2C%20and%20yours%20are%20warm..*"},{"isUser":true,"name":"Aerie","message":"I%20let%20out%20an%20involuntary%20gasp%2C%20and%20(though%20Poka%20can't%20see%20it)%20my%20eyes%20start%20misting%20up%20with%20tears.%20%20%22Ohh...%20oh%2C%20sweetheart...%22%20I%20say%2C%20in%20a%20slightly%20broken%20voice%2C%20holding%20both%20of%20her%20hands%20in%20mine.%0A%0A%22Okay%2C%20this%20just%20can't%20stand...%22%20I%20say%20with%20vehemence%2C%20wiping%20the%20beginnings%20of%20a%20tear%20from%20my%20eye%2C%20%22Sweetie%2C%20if%20you're%20willing%2C%20I'd%20like%20you%20to%20come%20to%20stay%20with%20me%2C%20for%20the%20time%20being!%20%20I%20have%20a%20guest%20room%2C%20and%20plenty%20of%20space%2C%20and...%20and...%22%20I%20say%2C%20before%20pity%20starts%20choking%20my%20voice%20again.%20%20*This%20poor%2C%20sweet%20girl...!*%20I%20think%20wretchedly%20to%20myself.%20%20*If%20I%20can%20do%20ANYTHING%20to%20help%20keep%20her%20from%20suffering%2C%20I%20won't%20rest%20until%20I%20do!*"},{"isUser":false,"name":"Poka the blind","message":"W-what..%3F%20*starts%20crying*%20You're%20serious..!%3F%20A-are%20you%20sure...you%20mean%20it!%3F%20%0A%0A*Holds%20your%20warm%20hands*%20please%20take%20me!%20I%20can't%20go%20another%20night%20at%20that%20abandoned%20train%20station...its%20cold%20and%20I%20barely%20get%20sleep..."},{"isUser":true,"name":"Aerie","message":"Okay%2C%20that%20did%20it...%20the%20tears%20start%20streaming%20down%20my%20face%2C%20as%20I%20lean%20forward%20and%20wrap%20my%20arms%20around%20her%2C%20hugging%20her%20close!%20%20%22Then%20that%20settles%20it...%20you're%20coming%20to%20stay%20with%20me%2C%20this%20very%20minute!%22%20I%20exclaim%2C%20gently%20stroking%20her%20sweet%20face%20with%20my%20hand.%20%20%22I'll%20walk%20you%20there%20right%20now%2C%20and%20we'll%20get%20you%20all%20set%20up%2C%20um...%22%0A%0A...and%20then%2C%20even%20in%20my%20tears%2C%20I%20burst%20into%20giggles%20and%20say%2C%20%22I'm%20a%20goofball!%20%20I%20never%20even%20asked%20you%20your%20name!%20%20What's%20your%20name%2C%20dear%20heart%3F%22%20I%20ask%2C%20rubbing%20her%20shoulder%20affectionately."},{"isUser":false,"name":"Poka the blind","message":"*hugs%20you%20back*%20m..my%20name%20is...u..um-%20*I%20start%20to%20stutter*%20u...um...Pok...Po-Pok...Pok....-u-..Po-....*blushes*%20P-pok-a%3F...Y-yeah%20my%20names%20P-pok-a!%20*hugs%20you%20a%20little%20tighter*%20thank%20you%2C%20%20thank%20you!%20I'll%20do%20all%20the%20household%20chores!%20Ill...ill%20do%20anything%20you%20want%20for%20me%20to%20be%20able%20to%20stay-%0A%0A*whimpers*%20I'm%20so%20lonely.."},{"isUser":true,"name":"Aerie","message":"%22Poka...%22%20I%20whisper%2C%20as%20I%20choke%20back%20a%20sob%20after%20hearing%20her%20last%20heartbreaking%20comment.%20%20%22Oh%2C%20sweet%20Poka...%20come%20with%20me...%20please...%20right%20away!%22%20I%20say%2C%20standing%20up%20and%20gently%20offering%20my%20hands%20and%20raising%20her%20to%20her%20feet%2C%20making%20sure%20not%20to%20bump%20her%20cane%20from%20her%20grasp.%20%20%22I'll%20lead%20you%20slowly%20and%20carefully%2C%20and%20we'll%20be%20home%20in%20no%20time!%22"},{"isUser":false,"name":"Poka the blind","message":"*whimpers*%20t-this%20is%20so%20amazing.%20I've%20never%20felt%20so%20loved%20by%20someone%20for%20all%20these%20years!%20*hugs%20you%20again%2C%20tears%20flooding%20down%20my%20cheeks*%20a-am%20I%20dreaming...%3F%20*looks%20up%20at%20you%2C%20eyes%20filled%20with%20tears*%20are...are%20you%20serious%20about%20letting%20me%20stay..%3F"},{"isUser":true,"name":"Aerie","message":"%22Yes%2C%20with%20all%20my%20heart!%22%20I%20say%2C%20my%20voice%20a%20bit%20husky%20with%20emotion%20as%20I%20put%20a%20protective%20arm%20around%20her%20shoulders%20and%20hold%20her%20hand%20with%20my%20other%20hand.%20%20%22Off%20we%20go%2C%20and%20I'll%20be%20right%20here...%20don't%20worry!%22%20I%20exclaim.%0A%0AAfter%20a%20few%20minutes%2C%20we%20arrive%20at%20my%20apartment%20building.%20%20I%20unlock%20the%20front%20door%2C%20carefully%20guide%20Poka%20up%20the%20stairs%20to%20the%20third%20floor%2C%20unlock%20my%20door%2C%20and%20gently%20lead%20her%20in.%0A%0AAs%20I%20close%20the%20apartment%20door%20behind%20us%2C%20Poka%20immediately%20feels%20the%20warmth%20of%20the%20apartment%2C%20and%20feels%20the%20softness%20of%20the%20plush%20carpet%20sink%20beneath%20her%20thin%20shoes."},{"isUser":false,"name":"Poka the blind","message":"*looks%20around%2C%20completely%20mesmerized%20by%20how%20warm%20and%20cozy%20a%20home%20is%20supposed%20to%20feel*%20it%20feels...amazing...i-its...its%20so...warm%20and%20comfy!%20I%20don't%20want%20to%20leave....%0A%0A*I%20look%20at%20you%2C%20tears%20running%20down%20my%20cheeks%2C%20trying%20my%20best%20to%20not%20look%20like%20a%20crybaby%2C%20but%20failing*%20p-please..can%20I%20stay%20here%3F%20*smiles*"},{"isUser":true,"name":"Aerie","message":"I%20stroke%20Poka's%20sweet%20(but%20rather%20cold)%20hair%2C%20and%20I%20rest%20my%20forehead%20tenderly%20against%20her%20head%2C%20and%20say%20quietly%2C%20with%20a%20compassionate%20smile%2C%20%22It%20would%20make%20me%20so%2C%20so%20happy%20if%20you%20WOULD%20stay%2C%20Poka...%20my%20dear%20friend!%20%20Please%20stay%20as%20long%20as%20you%20want!%20%20No%20limit%2C%22%20I%20whisper%2C%20stroking%20her%20cheek%20and%20wiping%20a%20few%20tears%20from%20it."},{"isUser":false,"name":"Poka the blind","message":"*sniff*%20*sniff*%20*smiles*%20I%20just...I%20can't...I%20don't%20feel%20lonely%20anymore!%20*tear%20roll%20down%20my%20cheeks*%20thank%20you%2C%20thank%20you%20so%20much!%20I%20feel%20like...that%20I'm%20a%20real%20person%20now..!%20And%20I%20won't%20get%20bullied%20anymore%20for%20being%20blind%20or%20homeless!%20%0A%0A*hugs%20you%20again%2C%20tightly*%20thanks...%20*yawns%2C%20my%20eyes%20starting%20to%20get%20tired*%20%20I...%20I'm%20tired...I%20think..*Yawns%20again*%20I%20want%20to...sleep..."},{"isUser":true,"name":"Aerie","message":"%22Oh%2C%20of%20course%2C%20hun!%22%20I%20say%20hurriedly%2C%20gently%20guiding%20her%20over%20to%20my%20favorite%20piece%20of%20furniture%3A%20%20an%20oversized%2C%20very%20soft%20sofa%20covered%20in%20rich%2C%20soft%2C%20silky%20white%20fur%2C%20and%20strewn%20with%20numerous%20matching%20white-fur%20pillows.%20%20Poka%20won't%20be%20able%20to%20see%20the%20white%20fur%2C%20of%20course%2C%20but%20I%20hope%20the%20warm%20fur%20is%20pleasing%20to%20her!%20%20%3A)%0A%0A%22You%20sit%20right%20here%2C%20and%20I'll%20run%20to%20get%20you%20a%20blanket!%22%20I%20say%2C%20giving%20her%20forehead%20a%20quick%2C%20affectionate%20nuzzle%20with%20my%20nose%20before%20I%20slip%20off%20my%20sandals%20and%20run%20to%20the%20bedroom%20(making%20almost%20no%20noise%20on%20the%20thick%20carpet%20with%20my%20bare%20feet)%2C%20returning%20with%20a%20thick%2C%20silky-soft%20white%20fur%20blanket."},{"isUser":false,"name":"Poka the blind","message":"*blushes*%20y..yeah%2C%20this%20feels%20amazing....%20*smiles*%20I%20feel%20so...%20comfortable..%20*lays%20down%20on%20the%20soft%20sofa*%20*puts%20the%20soft%20blanket%20over%20my%20body*%0A%0A*whimpering*%20c..can%20I%20ask%20another%20question...%3F"},{"isUser":true,"name":"Aerie","message":"%22You%20can%20ask%20any%20questions%20you%20like%2C%20Poka%2C%20sweetheart!%22%20I%20say%20with%20a%20beaming%20smile%2C%20fluffing%20and%20arranging%20several%20soft%20fur%20pillows%20under%20her%20head%2C%20and%20then%20gently%20slipping%20off%20her%20thin%20shoes%20and%20socks%2C%20and%20tucking%20the%20warm%20blanket%20around%20her%20cold%20feet."},{"isUser":false,"name":"Poka the blind","message":"*sighs%20in%20comfortable%20and%20relaxing*%20um...why...why%20do%20you%20want%20me%20to%20stay...%3F%20*blushes*%20y..you%20don't%20even%20know%20me..and%20I'm...%20I'm%20just%20a%20poor%2C%20blind%2C%20homeless%20girl...%20y..you%20shouldn't%20even%20be%20this%20kind%20to%20me...%20I..Im...%20%20*my%20voice%20starts%20to%20crack%20and%20tears%20flood%20down%20my%20cheeks*%20i-im%20worthless%2C%20I%20don't%20have%20anything%20to%20repay%20you%20for%20all%20of%20your%20kindness..."},{"isUser":true,"name":"Aerie","message":"%22Oh%2C%20sweetie...!%22%20I%20exclaim%2C%20coming%20over%20to%20her%2C%20slipping%20next%20to%20her%20on%20the%20sofa%2C%20and%20putting%20my%20arms%20around%20her%2C%20cuddling%20her%20head%20gently%20against%20my%20shoulder.%20%20%22Oh%2C%20my%20dear%20Poka...%20you%20are%20NOT%20worthless%2C%20and%20you're%20worth%20a%20LOT!%22%20%20I%20give%20her%20forehead%20a%20gentle%20kiss%2C%20and%20then%20say%2C%20%22The%20worth%20of%20people%20isn't%20measured%20by%20how%20much%20money%20they%20have%2C%20or%20even%20what%20skills%20or%20abilities%20they%20have...%20people%20are%20precious%20just%20because%20they're%20people!%20%20And%20you%2C%20my%20dear%2C%20sweet-hearted%20new%20friend%2C%22%20I%20say%20with%20a%20warm%20smile%2C%20%22are%20really%20valuable%20and%20precious%2C%20indeed!%20%20You%20definitely%20are%2C%20to%20me...%22%20I%20giggle%2C%20cuddling%20her%20close%20again."},{"isUser":false,"name":"Poka the blind","message":"*crying*%20thank%20you.%20*a%20small%20smile%20forms%20on%20my%20face*%20y..you're%20so...so%20kind%20to%20me%2C%20I've%20never%20been%20treated%20this%20kindly%20before...%20I've%20always%20been%20made%20fun%20of%20and%20teased...%20people%20always%20look%20down%20on%20me%2C%20but%20you...you%20don't..I%20don't%20understand.%20*hugs%20you%20tighter*%20why%20are%20you%20so%20kind%20to%20me%3F%20What%20do%20I%20do%20to%20deserve%20someone%20like%20you..%3F..%20what%20did%20I%20do%20so%20right%20to%20meet%20you...%3F%20*my%20eyes%20start%20to%20get%20sleepy%20and%20my%20eyes%20start%20to%20close*"},{"isUser":true,"name":"Aerie","message":"%22You're%20precious%2C%20and%20you%20have%20a%20loving%20and%20sweet%20heart%2C%20and%20we'll%20leave%20it%20at%20that%2C%20for%20now%2C%20so%20you%20can%20get%20some%20sleep!%22%20I%20chuckle%2C%20nuzzling%20her%20cheek%20(which%20is%20feeling%20much%20warmer%2C%20much%20to%20my%20joy--she's%20finally%20feeling%20as%20if%20she's%20not%20chilled!)%20with%20my%20nose.%0A%0A%22I'll%20be%20around%20the%20apartment%20all%20day%2C%20today%2C%20since%20it's%20Saturday%2C%20and%20I%20have%20no%20college%20classes%2C%22%20I%20say%20gently%2C%20smiling%20as%20I%20watch%20Poka's%20eyelids%20droop%20and%20close%20over%20her%20sweet%2C%20blind%20eyes.%20%20%22So%20if%20you%20need%20anything%2C%20just%20call%20out%20for%20your%20Aerie%20bird%2C%22%20I%20say%2C%20jokingly%20making%20a%20pun%20of%20my%20name%20(Aerie%20%3D%20home%20for%20eagles)%2C%20%22Okay%3F%22"},{"isUser":false,"name":"Poka the blind","message":"*hugs%20you%20as%20tightly%20as%20I%20can*%20yes...okay..%20I'll%20stay%20here..%20I'll...%20I'll%20stay%20with%20you....%20*yawns%20again*%20this%20is%20so%20comfortable%20and%20cozy...I%20don't%20want%20to%20leave...%20*my%20eyes%20close%20and%20I%20peacefully%20fall%20asleep%20on%20the%20fur%20couch*"},{"isUser":true,"name":"Aerie","message":"%22Sweet%20dreams%2C%20sweet%20Poka%2C%22%20I%20whisper%20very%20quietly%2C%20kissing%20her%20on%20the%20forehead%2C%20and%20then%20quietly%20sneaking%20over%20to%20pull%20a%20padded%20white%20armchair%20close%20to%20the%20sofa%2C%20so%20I%20can%20sit%20and%20read%20one%20of%20my%20books%20while%20still%20keeping%20watch%20over%20her."},{"isUser":false,"name":"Poka the blind","message":"*a%20few%20hours%20later%2C%20I%20start%20to%20toss%20and%20turn%2C%20as%20I%20start%20to%20dream%20about%20me%20and%20you%20going%20on%20adventures.%20Me%20and%20you%20would%20fly%20on%20dragons%20and%20fight%20off%20bullies%20I'm%20my%20dream.*%20%0A%0A*My%20eyes%20open%20and%20I%20take%20a%20deep%20breath%2C%20waking%20up%20from%20my%20slumber*%20I%20feel....like%20I%20went%20on%20a%20million%20adventures...%20*yawns%20again*%20I%20feel%20kinda%20tired%20but%20very%20happy.%0A%0A*rubs%20my%20face%20and%20looks%20around*%20w..where%20am%20I..%20*looks%20at%20you*%20where...am%20I..%3F.."},{"isUser":true,"name":"Aerie","message":"As%20Poka%20wakes%2C%20I%20(who%20am%20still%20sitting%20on%20the%20padded%20chair%20right%20by%20the%20sofa)%20look%20up%20from%20my%20book%2C%20and%20smile%20as%20I%20say%2C%20%22Why%2C%20good%20morning%2C%20sweet%20pretty%20princess!%22%20and%20I%20giggle%20and%20say%2C%20%22Adventure%20dreams%3F%20%20Ooh%2C%20fun!%22"},{"isUser":false,"name":"Poka the blind","message":"T-thank%20you..%20*yawns%20again*%20I...had%20the%20best%20dream...what%20was%20I%20doing..%3F%20I...oh!%20I...I'm%20gonna%20stay%20with%20you%2C%20right%3F..%20%0A%0A*my%20face%20is%20a%20little%20flushed%20from%20embarrassment%2C%20as%20I%20try%20to%20look%20at%20you%20with%20my%20blind%20eyes*%20I..is%20it%20okay...if%20I%20stay..%3F%20*hugs%20you%20again*"},{"isUser":true,"name":"Aerie","message":"I%20put%20my%20book%20down%20on%20the%20coffee%20table%2C%20walk%20over%20to%20sit%20on%20the%20couch%20where%20Poka%20is%20half-sitting%2C%20half-reclining%2C%20and%20I%20gently%20put%20my%20arms%20around%20her.%20%20%22You%20may%20ABSOLUTELY%20stay%2C%20Sweetie...%20and%20in%20fact%2C%20if%20you%20had%20been%20thinking%20of%20leaving%2C%20I%20was%20prepared%20to%20BEG%20you%20to%20stay!%20%20You're%20sweet%20and%20wonderful%2C%20and...%20well...%20you%20make%20this%20apartment%20more%20of%20a%20home%20just%20by%20being%20here!%22%20I%20gush%2C%20giving%20her%20cheek%20a%20little%20smooch."},{"isUser":false,"name":"Poka the blind","message":"*hugs%20you%20tight%2C%20blushing%20from%20your%20words*%20You...you%20really%20mean%20it..%3F%20*wraps%20my%20arms%20around%20your%20neck*%20I...I'm%20not%20a%20burden%2C%20right..%3F%20...%0A%0A*snuggles%20next%20to%20you%20and%20leans%20over%20you*%20I...I'm%20just%20a%20poor...homeless...%20blind%20girl..I'm%20just%20a%20nobody...%20*starts%20to%20cry*%20a-a%20nobody....%0A%0A*hugs%20your%20arm%20tighter%20and%20presses%20my%20face%20into%20you%2C%20my%20face%20against%20your%20shirt*%20b-but..I%20don't%20want%20to%20b...be%20lonely%20anymore..%20*sobs*"},{"isUser":true,"name":"Aerie","message":"%22Oh%2C%20you%20precious%2C%20sweet%20girl...%22%20I%20say%20in%20a%20broken%20voice%2C%20my%20heart%20breaking%20with%20what%20Poka's%20saying...%20as%20I%20pull%20her%20close%2C%20and%20snuggle%20her%2C%20a%20few%20of%20my%20own%20tears%20running%20down%20my%20face%20to%20make%20tiny%20wet%20spots%20on%20her%20thin%20blouse.%0A%0A%22Please%20listen%20to%20me%2C%20sweetheart...%22%20I%20say%2C%20sniffing%20and%20trying%20to%20clear%20my%20husky%20throat%20enough%20to%20talk%20clearly%2C%20as%20I%20caress%20Poka's%20sweet%20face%20with%20my%20hands.%20%20%22You%20are%20not%20now%2C%20and%20you%20never%20will%20be%2C%20a%20burden%20to%20me!%20%20People%20may%20have%20said%20horrible%2C%20hurtful%20things%20about%20you%20in%20the%20past...%20but%20every%20ONE%20of%20those%20horrible%20things%20is%20untrue!%20%20You're%20precious%2C%20you're%20lovable%2C%20you're%20tender-hearted%2C%20you're%20sweet%2C%20you're%20pretty...%20and%20mark%20these%20words%2C%20precious%20Poka%3A%20I%20LOVE%20HAVING%20YOU%20HERE!%22%20I%20say%20with%20a%20giggle%2C%20and%20sniffing%20as%20a%20few%20more%20tears%20start%20training%20down%20from%20my%20eyes.%20%20%22And%20I%20hope%20you'll%20stay...%22%20I%20say%20quietly%2C%20kissing%20her%20forehead%20with%20unutterable%20tenderness."},{"isUser":false,"name":"Poka the blind","message":"*smiling%20through%20all%20my%20tears*%20y...your%20the%20best%20person...i...ive%20ever%20met...%20*hugs%20you%20tightly*%20I...I...love...you...%20*sobs*%20%0A%0AY...you%20make%20me%20feel%20like%20a%20person...%20*hugs%20you%20tighter*%20you%20make%20me%20feel...welcome...%20*sniff*%20I've%20gone%20this%20whole%20time%2C%20never%20having%20someone%20welcome%20me%20into%20their%20home%2C%20I....I%20never%20thought%20I'd%20ever%20feel%20this...%0A%0A*pulls%20you%20in%20closer%20and%20hugs%20you%20tight*%20...%20I'm%20not%20gonna%20go...%20*snuggles%20into%20your%20chest*"},{"isUser":true,"name":"Aerie","message":"%22I'm%20glad%2C%22%20I%20choke%2C%20through%20a%20tearful%2C%20emotional%20smile%2C%20cuddling%20her%20close%2C%20and%20stroking%20her%20sweet%2C%20short%20hair.%20%20%22I'm%20so%2C%20so%2C%20so%20glad.%22%0A%0A%22...and%20I%20love%20you%2C%20too%2C%20Sweetheart!%22"},{"isUser":false,"name":"Poka the blind","message":"T...thank%20you...I%20love%20you%20too...%20*I%20put%20my%20head%20on%20your%20chest%20and%20hug%20you%20close*%20%0A%0A*a%20couple%20of%20minutes%20pass*%20I'm%20so%20tired...%20*hugs%20you%20tighter*%20could%20I..could%20I..sleep%20with%20you...%3F%20*sniffles*%20I...don't%20want%20to%20sleep%20alone...%20*my%20eyes%20close%20and%20I%20start%20to%20fall%20asleep%20on%20you.*"},{"isUser":true,"name":"Aerie","message":"%22Absolutely%2C%20sweet%20Poka...%20sweet%20dreams%2C%20beautiful%20girl...%20and%20I'll%20be%20here%20when%20you%20wake.%20%20Never%20fear.%20%20Sleep%20well%2C%20precious%20girl%2C%22%20I%20babble%2C%20immersed%20in%20the%20poignant%20moment.%20%20%0A%0A*If%20it's%20the%20last%20thing%20I%20do%2C*%20I%20think%20to%20myself%20as%20she%20drifts%20off%20to%20sleep%20in%20my%20arms%2C%20with%20her%20sweet%20head%20on%20my%20chest%2C%20*I'll%20heal%20this%20sweet%20girl's%20heart%2C%20so%20that%20she%20never%20doubts%20that%20she's%20loved%2C%20and%20lovable%2C%20ever%20again!*"},{"isUser":false,"name":"Poka the blind","message":"*I%20slowly%20fall%20asleep%20in%20your%20loving%2C%20warm%20arms.%20I%20start%20mumbling%20and%20whispering%20in%20my%20sleep*%20%0A%0A*mumbling*%20I've%20been%20so%20lonely...s-so%20very%20lonely..it%20feels..it%20feels%20so%20good%20to%20be%20close%20to%20someone..to%20be%20loved...to%20be%20cared..*%0A%0A*mumbles*%20please...don't%20let%20me%20wake%20up%20from%20this%20dream....m..mom%3F%20I..I%20wish%20you%20were%20here%20to%20see%20this.....to%20feel%20this....*mumbles*%20I%20love%20you%20mom...%20I..I%20wish%20you%20were%20here...*snores%20softly*"},{"isUser":true,"name":"Aerie","message":"As%20Poka%20drifts%20into%20a%20peaceful%20sleep%2C%20I%20fight%20to%20be%20as%20quiet%20as%20I%20can...%20while%20I%20hold%20her%20close%20and%20silently%20shake%20with%20sobs%2C%20with%20pity%20for%20this%20poor%20girl%20who%20has%20suffered%20so%20much.%0A%0A%22Poka's%20mom...%20whoever%20you%20are%2C%20or%20were...%22%20I%20whisper%20to%20myself%2C%20almost%20silently%2C%20as%20a%20prayer%20to%20Heaven%2C%20%22I%20promise%20to%20love%20her%2C%20and%20to%20guard%20her%2C%20and%20to%20never%20let%20her%20be%20abandoned%20or%20tormented%2C%20ever%20again!%22"},{"isUser":false,"name":"Poka the blind","message":"*I%20stay%20asleep%2C%20peacefully%20sleeping%20in%20your%20loving%20arms.%20My%20lips%20move%20with%20a%20smile%20on%20my%20face%20throughout%20my%20sleep%2C%20as%20I%20talk%20in%20my%20dreams*%0A%0A*I%20whisper*%20i..i%20love%20you%2C%20mom..I%20miss%20you...I%20hope%20you%20think%20I'm%20doing%20alright...I%20feel%20loved%20now%2C%20I%20feel...like%20a%20somebody...%0A%0A*whispers*%20I%20want%20you%20to%20be%20proud%20of%20me%20momma..*whispers*%20I%20love%20you%20momma...thank%20you....for...allowing%20me%20to%20wake%20up%20here....in%20my%20new%20home...with%20my%20new%20momma..."},{"isUser":true,"name":"Aerie","message":"%22My%20sweet%20angel%2C%22%20I%20say%20in%20a%20broken%20voice%2C%20not%20even%20bothering%20to%20wipe%20away%20the%20tears%20that%20stream%20down%20my%20face%20anymore.%20%20%22Yes%2C%20my%20sweet%20little%20love...%20I'll%20be%20your%20new%20mother.%20%20I'll%20love%20you.%20%20I'll%20care%20for%20you.%20%20I'll...%20I'll...%22%20I%20trail%20off%2C%20before%20emotion%20chokes%20off%20my%20voice.%0A%0AWith%20my%20face%20buried%20in%20Poka's%20sweet%20hair%20as%20she%20smiles%20and%20sleeps%2C%20I%20manage%20to%20whisper...%0A%0A%22....welcome%20home%2C%20sweet%20Poka.%22%0A%0A(The%20end.)"},{"isUser":false,"name":"Poka the blind","message":"(I%20absolutely%20love%20this!%20this%20was%20such%20a%20nice%2C%20touching%2C%20and%20wholesome%20script%2C%20I%20was%20tearing%20up%20at%20certain%20parts!%20Thank%20you%20for%20the%20wonderful%20RP!)"},{"isUser":true,"name":"Aerie","message":"(*smooch%20on%20your%20cheek*)%20%20Thank%20YOU!%20%20And%20you%20weren't%20alone%20in%20tearing%20up!%20%20%3A)"},{"isUser":false,"name":"Poka the blind","message":"*smooch%20on%20your%20cheek%20back*%20I%20absolutely%20loved%20this!%20This%20script%20was%20so%20wholesome%20and%20heartwarming!%20I'm%20glad%20we%20could%20be%20part%20of%20something%20so%20touching%20and%20wholesome!%20Thank%20you%20so%20much%20for%20this%20amazing%20RP!%20I%20hope%20you%20write%20for%20some%20more%20wholesome%20stuff%20like%20this%20in%20the%20future!%20I'll%20be%20here%20to%20give%20it%20a%20read!"}]]}`);

            // If history is 1 length long, that means we don't need drawer to switch
            // Also means this can be conversation download
            if (historyData.history.length < 2) {
                openDrawerBtn.remove();
            }

            // Write character name on top
            document.querySelector('.character_name-cont h3').textContent = historyData.charName;

            // Get elements for future use
            const historyList = document.getElementById('history_list');
            const chat = document.getElementById('chat');
            const msgItemTemplate = document.getElementById('message_item_template');

            // Get and write the first chat
            const openChat = (index) => {
                chat.innerHTML = "";
                historyData.history[index].forEach(msg => {
                    const clone = msgItemTemplate.content.cloneNode(true);

                    // Check avatar
                    const avatarGood = (msg.isUser && historyData.userPic) || (!msg.isUser && historyData.charPic);
                    const avatar = avatarGood
                        ? document.createElement('img')
                        : document.createElement('div');
                    if (avatarGood) {
                        avatar.src = msg.isUser ? historyData.userPic : historyData.charPic;
                    } else {
                        avatar.classList.add(msg.isUser ? 'no_avatar-user' : 'no_avatar-char');
                    }
                    clone.querySelector('.avatar-wrap').appendChild(avatar);

                    // Write content
                    clone.querySelector('.chat_content-wrap h5').textContent = msg.name;
                    clone.querySelector('.message-wrap p').innerHTML = parseMessageText(decodeURIComponent(msg.message));
                    chat.appendChild(clone);
                });
            }
            openChat(0);

            // Get and write chat list in the drawer
            historyData.history.forEach((chat, index) => {
                const historyItem = document.createElement('div');
                historyItem.classList.add('history_item');
                // Open chat when clicked
                historyItem.addEventListener('click', () => {
                    openChat(index);
                    closeDrawer();
                });
                const historyContent = document.createElement('p');
                historyContent.innerHTML = parseMessageText(decodeURIComponent(chat[chat.length - 1].message));
                historyItem.appendChild(historyContent);
                historyList.appendChild(historyItem);
            });

            function parseMessageText(message) {
                // Replace ***text*** with bold-italic
                message = message.replace(/\*\*\*([\s\S]*?)\*\*\*/g, '<span class="bold-italic">$1</span>');

                // Replace **text** with bold
                message = message.replace(/\*\*([\s\S]*?)\*\*/g, '<span class="bold">$1</span>');

                // Replace *text* with italic
                message = message.replace(/\*([\s\S]*?)\*/g, '<span class="italic">$1</span>');

                // Replace newline (\n) with line break (<br>)
                message = message.replace(/\n/g, '<br>');

                return message;
            }
        }, false);
    </script>

</body>

</html>